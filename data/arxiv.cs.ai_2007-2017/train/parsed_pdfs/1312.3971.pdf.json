{
  "name" : "1312.3971.pdf",
  "metadata" : {
    "source" : "CRF",
    "title" : null,
    "authors" : [ "Tommaso Urli" ],
    "emails" : [ "tommaso.urli@uniud.it" ],
    "sections" : [ {
      "heading" : null,
      "text" : "Technical Report\nBalancing bike sharing systems (BBSS): instance\ngeneration from the CitiBike NYC data\nTommaso Urli ∗\ntommaso.urli@uniud.it\nDecember 17, 2013\nContents"
    }, {
      "heading" : "1 Introduction 1",
      "text" : ""
    }, {
      "heading" : "2 Instance format 2",
      "text" : ""
    }, {
      "heading" : "3 Data collection 3",
      "text" : ""
    }, {
      "heading" : "4 Data processing 4",
      "text" : ""
    }, {
      "heading" : "5 Instance generation 5",
      "text" : ""
    }, {
      "heading" : "6 Generator and instances 6",
      "text" : ""
    }, {
      "heading" : "1 Introduction",
      "text" : "Bike sharing systems are a very popular means to provide bikes to citizens in a simple and cheap way. The idea is to install bike stations at various points in the city, from which a registered user can easily loan a bike by removing it from a specialized rack. After the ride, the user may return the bike at any station (if there is a free rack). Services of this kind are mainly public or semi-public, often aimed at increasing the attractiveness of non-motorized means of transportation, and are usually free, or almost free, of charge for the users.\nDepending on their location, bike stations have specific patterns regarding when they are empty or full. For instance, in cities where most jobs are\n∗Scheduling and Time-Tabling Group, DIEGM - University of Udine, Via delle Scienze 206, 33100 – Udine (UD), Italy\nar X\niv :1\n31 2.\n39 71\nv1 [\ncs .A\nI] 1\n3 D\nec 2\n01 3\nlocated near the city centre, the commuters cause certain peaks in the morning: the central bike stations are filled, while the stations in the outskirts are emptied. Furthermore, stations located on top of a hill are more likely to be empty, since users are less keen on cycling uphill to return the bike, and often leave their bike at a more reachable station. These issues result in substantial user dissatisfaction which may eventually cause the users to abandon the service. This is why nowadays most bike sharing system providers take measures to rebalance them. Balancing a bike sharing system is typically done by employing a fleet of trucks that move bikes overnight between unbalanced stations. More specifically, each truck starts from a depot and travels from station to station in a tour, executing loading instructions (adding or removing bikes) at each stop. After servicing the last station, each truck returns to the depot.\nOver the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6]. As such, generating meaningful instance to serve as a benchmark for the proposed approaches is an important task. In this technical report we describe the procedure we used to generate BBSS problem instances from data of the CitiBike NYC bike sharing system."
    }, {
      "heading" : "2 Instance format",
      "text" : "We employ the instance format1 defined and popularized by the ADS group at the Technische Universität Wien (TU Wien) and the mobility department at Austrian Institute of Technology (AIT). Note, however, that our scope is limited to the static variant of the problem, as such we only consider a valid subset of the instance format.\nThe format for the static BBSS specifies, for each station s ∈ S\n• the current number of bikes bs, • the target number of bikes b̂s, • the distance from the depot ds,d, and • the distance from each other station k ds,k.\nNote that this format only describes a state of the bike sharing system, therefore, in a sense, it describes a family of instances. Specific instances can be generated by specifying\n• the stations capacities Cs, • the vehicles capacities cv, v ∈ V, • the number of vehicles from the depot V , and • the vehicles time budget t̂v.\n1We refer the reader to https://www.ads.tuwien.ac.at/w/Research/Problem Instances for a complete description of the format and all its variants, e.g., the dynamic formulation."
    }, {
      "heading" : "3 Data collection",
      "text" : "The first step of instance generation, is gathering a sufficient amount of usage data about a bike sharing system. Our choice system of choice is CitiBike NYC2, since they provide full access, through a web service, to the state of the network in JSON format at any time3. This is an example of output from the web service\n{\n\"executionTime\": \"2013-11-04 12:09:01 AM\", \"stationBeanList\": [\n{\n\"availableDocks\": 21, \"totalDocks\": 39, \"longitude\": -73.99392888, \"testStation\": false, \"stAddress1\": \"W 52 St & 11 Ave\", \"stationName\": \"W 52 St & 11 Ave\", \"landMark\": \"\", \"latitude\": 40.76727216, \"statusKey\": 1, \"availableBikes\": 17, ... \"id\": 72\n}, ...\n]\n}\nFrom the output, it can be noted that three pieces of information about capacity are reported: the availableDocks, totalDocks, and the availableBikes. One interesting thing is that\ntotalDocks 6= availableDocks + availableBikes (1)\ni.e., there is a displacement of one bike, which is, however, constant through the stations. Moreover, a field statusKey encodes the status of the station, e.g., operational or non-operational.\nWe have stored a snapshot of the network every 10 minutes for 6 months (since May 2013 to November 2013). A snapshot, among other information, contains the current and the maximum number of bikes of each station, and its address. This data was necessary in order to provide realistic bs and b̂s for every station. Moreover, we employed the address data to query the Google\n2CitiBike NYC: http://www.citibikenyc.com 3Web service URL: http://citibikenyc.com/stations/json\nMaps API4 about the distance, both in minutes and meters, between each pair of stations s, k ∈ S. Note that this also includes the distances from a depot, as we consider one of the central stations as a depot."
    }, {
      "heading" : "4 Data processing",
      "text" : "We considered the ≈ 25′000 snapshots, and, for each station, we computed the distributions of stored bikes at every hour of the day. The week-ends were not considered because the bike usage is much noisier than during working days. From the analysis it is clear that, at certain times of the day, there are stations acting as sources (see Figure 1) and others acting as sinks (see Figure 2). The following box plots, that show the distributions of bikes on a single station throughout the day show this behavior.\nFrom some of the distributions, it was also clear that there was some artificial rebalancing happening overnight between 00 : 00 and 06 : 00 AM (mildly visible in Figure 3 at 04 : 00 AM).\nFor each station s ∈ S, we first computed the 1st and 3rd quartiles for all the hours of the day. Then we found the minimum first quartile and the maximum third quartile across the day, which we denote, respectively, by mins and maxs. Ideally, these are values which we would like to be as far as possible, respectively from 0 (empty station) and from Cs (full station). We thus computed a displacement value for each station s, as\ndisps = bCs − (Cs − (maxs −mins))/2c −maxs (2)\n4Google Maps API: https://developers.google.com/maps\nideally, displacing the distributions by disps brings mins and maxs as far as possible from 0 and Cs, so that the probability of finding an empty or a full station is minimized."
    }, {
      "heading" : "5 Instance generation",
      "text" : "Once the displacement of each station is known, generating an instance from a snapshot is rather easy. But there are some aspects which one should take into account.\nSelection of the snapshot. In order for the generated instances to be realistic, one should consider when the rebalancing is likely to be done. A good guess for this is that the rebalancing happens overnight. This is also supported by the rebalancing step which is visible on some stations (e.g., Figure 3). For our instances, we have chosen midnight as the expected time for the start of the rebalancing, thus we have used the 30 midnight snapshots from September 2013 as starting points. For each station s ∈ S, the initial number of bikes bs is thus the actual number of bikes in the station at midnight.\nSelection of the depot. The information released by CitiBike NYC does not contain any data about depots. Of course, this station must be excluded from the choice of the other stations to include in the instance. We selected the station with CitiBike ID 294 as it was quite centra with respect to all the other stations.\nSelection of stations. Our generator accepts a size parameter that controls the number of stations that are included in the instance. The stations are then partitioned in sinks and sources and a random station from each set is added uniformly at randomly to the instance. This strategy tries to balance sinks and sources, so that the objective function range is broader (and the generated instances are more interesting). Note that, because of the randomness in the generation process, the generated instance use, in principle, a different set of stations. However, since the number of stations in the CitiBike NYC sistem is limited (≈ 330) the larger instances are more likely to include similar sets of stations."
    }, {
      "heading" : "6 Generator and instances",
      "text" : "We have built an instance generator for BBSS based on the ideas described in the previous section. The generator is available under the permissive MIT license at the address https://bitbucket.org/tunnuz/citibike-nyc-generator. Moreover, we have generated 180 instances of increasing size ∈ {40, 80, . . . , 240}, which are publicly available as well, under the same license at the address https://bitbucket.org/tunnuz/citibike-nyc-sept-13. Note that, unlike the instances available from the ADS and AIT websites, the one generated by our software do not already consider the bicycle loading / unloading times inside the traveling times. The distances are thus real distances, and the loading and unloading times must be added to the cost function. This allows to implement various policies, e.g., fixed loading / unloading times, or loading / unloading time dependent on the number of transferred bicycles."
    } ],
    "references" : [ {
      "title" : "Balancing the stations of a self service bike hire system",
      "author" : [ "Mike Benchimol", "Pascal Benchimol", "Benôıt Chappert", "Arnaud De la Taille", "Fabien Laroche", "Frédéric Meunier", "Ludovic Robinet" ],
      "venue" : "RAIRO – Operations Research,",
      "citeRegEx" : "1",
      "shortCiteRegEx" : "1",
      "year" : 2011
    }, {
      "title" : "Bike sharing systems: Solving the static rebalancing problem",
      "author" : [ "Daniel Chemla", "Frédéric Meunier", "Roberto Wolfler Calvo" ],
      "venue" : "To appear in Discrete Optimization,",
      "citeRegEx" : "2",
      "shortCiteRegEx" : "2",
      "year" : 2012
    }, {
      "title" : "Balancing a Dynamic Public Bike-Sharing System",
      "author" : [ "Claudio Contardo", "Catherine Morency", "Louis-Martin Rousseau" ],
      "venue" : "Technical Report CIRRELT-2012-09,",
      "citeRegEx" : "3",
      "shortCiteRegEx" : "3",
      "year" : 2012
    }, {
      "title" : "Constraint-based approaches for balancing bike sharing systems",
      "author" : [ "Luca Di Gaspero", "Andrea Rendl", "Tommaso Urli" ],
      "venue" : "The 19th International Conference on Principles and Practice of Constraint Programming,",
      "citeRegEx" : "4",
      "shortCiteRegEx" : "4",
      "year" : 2013
    }, {
      "title" : "A hybrid aco+ cp for balancing bicycle sharing systems",
      "author" : [ "Luca Di Gaspero", "Andrea Rendl", "Tommaso Urli" ],
      "venue" : "In HM’13 - The 8th International Workshop on Hybrid Metaheuristics,",
      "citeRegEx" : "5",
      "shortCiteRegEx" : "5",
      "year" : 2013
    }, {
      "title" : "Balancing bicycle sharing systems: A variable neighborhood search approach",
      "author" : [ "Marian Rainer-Harbach", "Petrina Papazek", "Bin Hu", "Günther R. Raidl" ],
      "venue" : "Evolutionary Computation in Combinatorial Optimization,",
      "citeRegEx" : "6",
      "shortCiteRegEx" : "6",
      "year" : 2013
    }, {
      "title" : "Static repositioning in a bikesharing system: Models and solution approaches",
      "author" : [ "Tal Raviv", "Michal Tzur", "Iris A. Forma" ],
      "venue" : "To appear in EURO Journal on Transportation and Logistics,",
      "citeRegEx" : "7",
      "shortCiteRegEx" : "7",
      "year" : 2012
    }, {
      "title" : "Inventory Rebalancing and Vehicle Routing in Bike Sharing Systems",
      "author" : [ "Jasper Schuijbroek", "Robert Hampshire", "Willem-Jan van Hoeve" ],
      "venue" : "Technical Report 2013-E1,",
      "citeRegEx" : "8",
      "shortCiteRegEx" : "8",
      "year" : 2013
    } ],
    "referenceMentions" : [ {
      "referenceID" : 0,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 2,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 6,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 1,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 7,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 4,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 3,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    }, {
      "referenceID" : 5,
      "context" : "Over the last few years, balancing bike sharing systems (BBSS) has become increasingly studied in optimization [1, 3, 7, 2, 8, 5, 4, 6].",
      "startOffset" : 111,
      "endOffset" : 135
    } ],
    "year" : 2013,
    "abstractText" : "Bike sharing systems are a very popular means to provide bikes to citizens in a simple and cheap way. The idea is to install bike stations at various points in the city, from which a registered user can easily loan a bike by removing it from a specialized rack. After the ride, the user may return the bike at any station (if there is a free rack). Services of this kind are mainly public or semi-public, often aimed at increasing the attractiveness of non-motorized means of transportation, and are usually free, or almost free, of charge for the users. Depending on their location, bike stations have specific patterns regarding when they are empty or full. For instance, in cities where most jobs are ∗Scheduling and Time-Tabling Group, DIEGM University of Udine, Via delle Scienze 206, 33100 – Udine (UD), Italy",
    "creator" : "LaTeX with hyperref package"
  }
}