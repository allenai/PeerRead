{
  "name" : "1601.00367.pdf",
  "metadata" : {
    "source" : "CRF",
    "title" : "Benders Decomposition for the Design of a Hub and Shuttle Public Transit System",
    "authors" : [ "Arthur Mahéo", "Philip Kilby", "Pascal Van Hentenryck" ],
    "emails" : [ "Philip.Kilby}@nicta.com.au,", "pvanhent@umich.edu," ],
    "sections" : [ {
      "heading" : null,
      "text" : "Benders Decomposition for the Design of a Hub and Shuttle Public Transit System\nArthur Mahéo, Philip Kilby The Australian National University, Acton ACT 2601, Australia\nDATA61, Tower A, 7 London Circuit, Canberra City ACT 2601, Australia\n{Arthur.Maheo, Philip.Kilby}@nicta.com.au,\nPascal Van Hentenryck The University of Michigan, Industrial and Operations Engineering\n1205 Beal Avenue, Ann Arbor, MI 48109.\npvanhent@umich.edu,\nThe BusPlus project aims at improving the off-peak hours public transit service in Canberra, Australia. To address the difficulty of covering a large geographic area, BusPlus proposes a hub and shuttle model consisting of a combination of a few high-frequency bus routes between key hubs and a large number of shuttles that bring passengers from their origin to the closest hub and take them from their last bus stop to their destination.\nThis paper focuses on the design of bus network and proposes an efficient solving method to this multimodal network design problem based on the Benders decomposition method. Starting from a MIP formulation of the problem, the paper presents a Benders decomposition approach using dedicated solution techniques for solving independent sub-problems, Pareto optimal cuts, cut bundling, and core point update. Computational results on real-world data from Canberra’s public transit system justify the design choices and show that the approach outperforms the MIP formulation by two orders of magnitude. Moreover, the results show that the hub and shuttle model may decrease transit time by a factor of 2, while staying within the costs of the existing transit system.\nKey words : combinatorial optimisation, multimodal transportation, Benders decomposition, Pareto\noptimal cuts, cut bundling"
    }, {
      "heading" : "1. Introduction",
      "text" : "Canberra is a planned city designed by American architect Walter Griffin in 1913. It features a large\nnumber of semi-autonomous towns separated by greenbelts. As a result, Canberra covers a wide\ngeographic area, which makes public transportation particlarly challenging. Bus routes are long and\nhence bus frequencies, and patronage, are low, especially during off-peak periods. To address these\nimitations, the BusPlus project designed, optimized, and simulated a Hub and Shuttle Public\nTransit System. The Hub and Shuttle model consists of a combination of a few high-frequency bus\nroutes between key hubs and a large number of shuttles (or multi-hire taxis) that bring passengers\nfrom their origin to the closest hub and take them from their last bus stop to their destination.\n1\nar X\niv :1\n60 1.\n00 36\n7v 1\n[ cs\n.A I]\n3 0\nD ec\n2 01\n5\nThe main advantage of BusPlus is its ability to deliver the same service regardless of the origin and destination of a passenger. BusPlus uses bus stops instead of a doorstep shuttle service to reduce the delay of waiting for the customer to exit her house, e.g., putting on shoes, coat, ... In addition, bus stops provide an already established network covering the city, within walking distance of homes even in its remotest areas. From a traveller standpoint, this transit model is highly convenient: Travellers book their travel online (e.g., on their phones), are picked up at their traditional bus stop, and dropped at their destination for the same ticket price as before. The anticipated benefits come from the level of service: The hope is to reduce travel time significantly for the same overall system cost.\nDesigning such a Hub and Shuttle Public Transit System (HSPTS) however creates a series of\ninteresting challenges, including\n1. How to connect a set of potential hubs to minimize costs and maximize convenience? 2. How to allocate, during operations, requests to a trip, consisting of a shuttle leg, a number of\nbus legs, and a final shuttle leg?\nThis paper focuses on the first problem and primarily on off-peak hours – evenings, week-ends –, which are the most challenging from a cost and service standpoint. Designing a HSPTS differs from the traditional bus-network design problem which, given a set of known or implied origin/destination demands, consists in building a network of routes that visit all the bus stops and serve these demands. In contrast, a solution to the HSPTS does not need to visit all the bus stops nor even all the potential hubs. The HSPTS goal is to decide which hubs to link via bus routes to take advantage of economies of scale, while relying on shuttles for the remaining ”last mile” elements of the service. As a result, in a HSPTS system, the design of the bus network is intertwined with the routing of passengers: The objective is to balance the cost of running buses for a whole day, which has a high up-front cost, with the cost of routing passengers with shuttles only, which has a low fixed cost but incurs a costly per trip expense.\nThe paper models the HSPTS design problem as an Hub-Arc Location Problem (HALP) (Campbell et al. 2005a,b) and uses Benders decomposition (Benders 1962) to solve the resulting MIP formulation. The Benders decomposition makes use of the Pareto-optimal cuts proposed by Magnanti and Wong (1981), core point updates, and cut bundling using the problem structure. The experimental results, based on real data collected on the Canberra public transit system, show the benefits of the HSPTS proposed by the BusPlus project, as well as the effectiveness of Benders decomposition and its various enhancements. Observe also that, although the main motivation of the BusPlus project concerns the off-peak setting, the experimental results are based on actual data covering a whole day of operations to validate the scalability of the model.\nThe rest of the paper is organized as follows. Section 2 describes the HSPTS model considered in this paper, its simplifying assumptions, and the data sets. Section 3 reviews prior work on related problems. Section 4 reviews the MIP formulation and a number of problem-specific pre-processing techniques. Section 5 reviews Benders decomposition and some of its important extensions. Section 6 presents the Benders decomposition approach. Finally, Section 7 presents the experimental results for the case study, including the benefits of the Benders decomposition and the impact of the BusPlus project on the public transit system in Canberra.\nIn the following, we use shuttles and taxis interchangeably, since the shuttles in our case study\nare multi-hire taxis, which are available in large numbers in Canberra."
    }, {
      "heading" : "2. Modeling the HSPTS Problem for the BusPlus Project",
      "text" : "The HSPTS is a variant of the hub-arc location problem in which customers have access to a multimodal transportation where buses run on a fixed network and taxis can transport customers on any origin-destination pair. Bus routes can be opened for a fixed cost which represents the cost of operating high-frequency buses along the arc. The goal is to minimize the cost of system, i.e., the fixed cost of operating the bus lines and the variable cost for each taxi trip, together with maximizing the convenience for the travellers. We use the trip duration as a proxy for traveller convenience in the model.\nTo make the design of the HSPTS manageable from a computational standpoint, a number of simplifications are introduced. First, trips are modeled as single commodities and the number of passengers is a factor on the cost of the trip. Second, the routing and scheduling aspects are ignored. Taxis are considered to be available at any location within a short time and always travel directly from pickup to setdown. This assumption is reasonable whenever the HSPTS system is able to call on a sufficiently large taxi fleet, which is certainly the case in Canberra. Buses are considered to be available for connections with a nominal waiting time. The model does not account for capacities, which is again a reasonable assumption in the off-peak times. Obviously, the BusPlus project has also developed online optimization algorithms for taxi dispatching but this is outside the scope of this paper.\nOur dataset represents a week worth of trips in Canberra using the current public transit network. Each trip has an origin and a destination and a number of passengers. Time and distance matrices between each pair of nodes gives the on-road distance and average travel time between each pair of nodes: They both respect the triangle inequality. Finally, Figure 1 presents the two sets of potential hubs to be used for building the bus network: H10 with ten hubs and H20 with twenty hubs. The hubs are shown by blue dots in the figure. The hubs were chosen using a p-median model (Hakimi 1964)."
    }, {
      "heading" : "3. Review of Prior Work",
      "text" : "The problem of linking a set of hubs using arcs is called the Hub-Arc Location Problem or huband-spoke network design problem: It was introduced by Campbell et al. (2005a,b) and is defined as the problem of locating a given number of hub arcs in such a way that the total flow cost is minimized. It is mostly used in transhipment contexts where economies of scale can be expected by grouping flows. The Hub-Arc Location Problem (HALP) can be seen as a two-level decision problem deciding which arcs to open first and then how to route the flow at minimum cost. As such, its structure appears ideally suited for Benders decomposition (Benders 1962). In recent years, a significant body of research has been dedicated to solving variants of the Hub Location Problem and the HALP using Benders Decomposition. These studies typically impose restrictions on the network topology. They include, for instance, the Tree Hub Location Problem (de Sá et al. 2013), where hubs are connected in a non-directed tree, the Hub Line Location Problem (de Sá et al. 2015a), where the decision is to locate q lines connecting hubs, and star topologies (Labbé and Yaman 2008, Yaman 2008) where all hubs are connected to a central hub and nodes are connected to hubs. de Sá et al. (2015b) introduced the Hub Line Location Problem which consists of locating p hubs and connecting them by means of a path, i.e., a single line. The arcs linking the hubs are a\nway to speed up travel time but commodities can also be routed outside the network. There may also be a cost to access the network. In order to solve this complex problem, de Sá et al. (2015b) used a Benders decomposition that include multicuts, a dedicated algorithm for the sub-problem, and the use of a branch-and-cut framework.\nMaŕın and Jaramillo (2009) solve a rapid urban transit network design problem, where the goal is to locate train stations in an uncapacitated network with line location and demand routing constraints. Moreover, customers have access to a private network in competition with the public network of trains. They improve the convergence speed of the Benders algorithm by using subproblem disaggregation, a procedure to remove inactive optimality cuts, and a dedicated subproblem algorithm. The goal in this work is to maximize the demand served by the transit system, while our goal is to optimize a combination of cost and convenience.\nFinally, it is useful to mention that nodes can be assigned to hubs in two main ways: single or multiple allocations. With multple allocations, the commodities from a node can be sent to multiple hubs. While the single allocation is the most commonly studied, de Camargo et al. (2008) apply Benders decomposition to the uncapacitated multiple-aallocation HALP. The main issue is the non-linearity of their model. As a result, they use a Generalised Benders Decomposition with a MIP as the master problem and a non-linear convex transportation problem as the subproblem. Note that de Sá et al. (2015b) also allow for multiple allocations."
    }, {
      "heading" : "4. A MIP Model",
      "text" : "This section presents a MIP model for the HSPTS problem. It starts by presenting the main formulation and then proposes a number of domain-specific pre-processing steps."
    }, {
      "heading" : "4.1. The Basic Formulation",
      "text" : "4.1.1. Inputs The inputs to the HSPTS are as follows: 1. a complete graph G with a set N of nodes; 2. a set T of trips to serve, where each trip r ∈ T is specified by a tuple (o, d, p) with an origin\nor ∈N , a destination dr ∈N , and a number of passengers pr ∈N;\n3. a subset H ⊆N of nodes that can be used as bus hubs.\nIn the following, we use or(r) and de(r) to denote the origin and destination of a trip r. The distance and the travel time from node i to j (i, j ∈N) are given by dij and tij respectively. Since the HSPTS problem aims at optimizing cost and convenience jointly, we use α as a conversion factor to translate travel times into financial costs. Travel distance is used as a cost measure, while travel time is a proxy for convenience. The value α shifts the solution towards cost or convenience by modifying travel times by a factor α and travel costs by (1 − α): The lower α is, the more cost-driven the solution is. The objective is formulated in terms of the following constants:\nc: the cost of using a taxi per kilometer; b: the cost of using a bus per kilometer; n: the number of buses per day which depends on the headway; S: the average waiting for a bus.\nThe different characteristics of the two transportation modes are captured in their associated cost functions: The cost (τ) of a taxi is a combination of a cost per kilometer and a cost per minute, while the cost (γ) of bus is only a function of time. However, buses run for the whole day, which is modelled by a large initial set-up cost (β). These costs are defined as follows:\n• τij = (1−α)c · dij +α · tij (cost and convenience of using a taxi from i to j); • γhl = α(thl +S) (convenience of using a bus from h to l); • βhl = (1−α)b ·n · dhl (cost of opening a bus leg from h to l). Since all the passengers in a trip r are travelling at the same time, the taxi and bus costs of r are obtained by multiplying the arc costs by the number of passengers, i.e.,\n• τ rij = pr · τij; • γrhl = pr · γij.\n4.1.2. Decision Variables The decision variables for the HSPTS problem, which are all binary, are as follows: Binary variable xrij denotes whether trip r uses a taxi to travel arc (i, j), variable yrhl denotes whether trip r uses a bus on arc (h, l) (h, l ∈H), and variable zhl indicates whether arc (h, l) is opened for buses to use. By convention, this paper uses (i, j) for edges travelled by taxis and (h, l) for edges used by buses.\n4.1.3. Network Topology The MIP model only enforces a weak form of connectivity that requires that the sum of all incoming bus legs must be equal to the sum of all outgoing bus legs at every hub. In other words, each leg entering a hub has a corresponding leg which has to leave the hub. While this formulation technically leaves open the possibility of producing a network of disconnected components, the demand patterns observed in practice lead to networks of good quality. With low demand, the topology is often a simple circuit around the center. Higher demand patterns often produces one or more connected flower topologies with sub-circuits extending from the center to the suburbs. Figure 10 in Section 7 illustrates these topologies.\n4.1.4. The MIP Model We are now in a position to present the MIP model for the HSPTS of BusPlus. This model has similarities with the HAL4 from Campbell et al. (2005a) but it relaxes a number of critical assumptions for our case study, i.e.,\n1. An optimal solution may contain a path from the origin to the destination that does not\ncontain a hub.\n2. There is no constraint on the number of arcs to open;\n3. The model allows for bridge arcs between two hubs.\nThe MIP model is presented in Figure 2. The objective function is the sum of the travelling cost of the trips using their selected arcs and the cost of opening the bus legs. Constraints (1a) enforce the weak connectivity constraints on the bus legs, Constraints (1b) ensure that travellers only use opened bus legs, and Constraints (1c) enforce flow conservation, i.e., travellers start at their origin and reach their destination without skipping network edges. Note that, once the z variables are fixed, the problem becomes totally unimodular and the integrality constraints on the x and y variables can be relaxed."
    }, {
      "heading" : "4.2. Problem-Specific Preprocessing",
      "text" : "We now describe two filtering techniques that decrease the number of decision variables significantly: Trip filtering and link filtering.\n4.2.1. Trip Filtering It may be the case that, in all possible configurations of the HSPTS problem, the optimal routing of a trip r is a direct taxi ride. These trips can be filtered from the HSPTS problem, since they do not impact its optimal solutions. Such trips can be identified by a simple filtering algorithm that\n1. considers that all bus legs are open; 2. computes a least-cost path from the source to the destination of each trip; 3. removes the trip if the least-cost path is a direct taxi ride.\nIt is interesting to observe that, in the filtering procedure, a least-cost trip can be a direct taxi ride or one of the four patterns depicted in Figure 3, since it is assumed that all bus legs are open. In particular, a least-cost trip is either (1) a single taxi ride or (2) a journey with exactly one bus leg and possibly a taxi ride from the origin to the hub and/or from the hub to the destination.\nTable 1 reports experimental results on the effectiveness of trip filtering. Column Total reports the initial number of trips, while the T-Filtered columns give the trips remaining after filtering for both hub configurations. Column Reduction report the trip reduction in percentage for both configurations. For the 10 hub configuration, the filtering reduces the number of trips by more than 30%. The reduction is more than 18% in the configuration with 20 hubs. This lower number was of course expected for 20 hubs, since additional hubs make more complex hub patterns more attractive from a cost standpoint.\n4.2.2. Link Filtering The current formulation considers every possible taxi link, thus using a complete graph. Because of the triangle inequality, there is no need to connect all the nodes using taxis: The only taxi links to consider for a trip r= (o, d, p) are\n1. from the origin to a hub; 2. from a hub to the destination; 3. and from the origin to the destination.\nAs a result, the formulation needs only the following taxi variables:\nxroh ≥ 0 ∀r ∈ T,∀h∈H; xrhd ≥ 0 ∀r ∈ T,∀h∈H; xrod ≥ 0 ∀r ∈ T.\nObserve that τod, the cost of a one-person direct taxi trip, is an upper bound to the cost of a trip. This upper bound can be used to filter links from the origin o to a hub h and from a hub l to the destination d by generalizing the trip filtering presented earlier. Indeed, if the least-cost path going through (o,h) is not cheaper than τ rod, variable x r oh can be removed. Consider, for instance,\nthe case where the trips have three components: 1) a taxi trip from the origin to a hub; 2) a bus trip between two hubs; and 3) a taxi trip from the last hub to the destination. If the condition\n∀l : τoh + γhl + τhl > τod\nholds, then the taxi trip (o,h) will never be used and the variable xroh can be removed. The symmetric condition\n∀h : τoh + γhl + τhl > τod\nallows to remove variable xrld. Similar reasonings can be applied to the other patterns depicted in Figure 3\nWe call this procedure link filtering (L-filtering for short). Once the T-filtering and L-filtering procedures have been applied, the remaining taxi arcs are called useful and Dr denotes the set of useful taxi arcs for a trip r. Table 2 presents experimental results on link filtering. They indicate that the link filtering procedure is particularly effective, removing more than 50% of the taxi arcs available after trip filtering. As the table shows, this holds for the two configurations with 10 and 20 hubs respectively."
    }, {
      "heading" : "5. A Brief Review of Benders Decomposition",
      "text" : "This section provides a brief overview of Benders decomposition for solving MIPs (Benders 1962). The overview uses some simplyfying assumptions that hold in the HSTPS problem. Assume, for simplicity, that the MIP model is specified as follows:\nmin cTx+ fTy (2a)\ns.t. Ax+By≥ b (2b)\nx≥ 0, y ∈Y (2c)\nwhere the x variables are real-valued and the y variables are discrete and belong to the feasible set Y. Benders decomposition splits the MIP model into two parts: a master problem that contains\nthe y variables and a sub-problem that contains the x variables and a candidate solution for the y variables. The subproblem can be specified as\nq(y) = min cTx (3a)\ns.t. Ax≥ b−By (3b)\nx≥ 0 (3c)\nand the master problem becomes\nmin fTy+ q(y) (4a)\ny ∈Y (4b)\nFor simplicity, we assume that the subproblem (3) is always feasible and bounded, which will be the case for the HSTPS problem. Let α be the dual variables associated with (3b). The dual of (3) is given by\nmax αT (b−By) (5a)\ns.t. ATα≤ c (5b)\nα≥ 0 (5c)\nLet πj (j ∈ [1, J ]) be the extreme points of the dual feasibility region, which does not depend on the candidate values for the y variables. The subproblem (3) can be reformulated as\nmin q (6a)\ns.t. πTj (b−By)≤ q ∀j ∈ [1, J ] (6b)\nq ∈R (6c)\nand the master problem as\nmin fTy+ q (7a)\ns.t. πTj (b−By)≤ q ∀j ∈ [1, J ] (7b)\nq ∈R, y ∈Y (7c)\nwhere the constraints (7b) are called Benders (optimality) cuts.\nSince there are potentially an exponential number of extreme points, Benders decomposition starts by solving a restricted master problem with no cuts and introduces the Benders cuts lazily. At each iteration, Benders decomposition uses the restricted master to produces candidate solution (ȳ, q̄) and then solves the subproblem q(ȳ). If q(ȳ) = q̄, the candidate solution is optimal. Otherwise, a Benders cut of the form (7b) is added to the restricted master problem and the process is repeated."
    }, {
      "heading" : "5.1. Separable Benders Subproblem and Cut Bundling",
      "text" : "Consider now the case where the subproblem (3) is separable, i.e., it can be rewritten as\nmin cT1 x1 + c T 2 x2 + · · ·+ cTnxn (8a)\ns.t. A1x1 ≥ b1−B1y1 (8b)\nA2x2 ≥ b2−B2y2 (8c) . . .\nAnxn ≥ bn−Bnyn (8d)\nxi ≥ 0 ∀i∈ [1, n]\nSolving the subproblem now consists of optimizing independent components, i.e.,\n(8)⇔\nmin cT1 x1\ns.t. A1x1 ≥ b1−B1y1\nx1 ≥ 0\n+\nmin cT2 x2\ns.t. A2x2 ≥ b2−B2y2\nx2 ≥ 0\n+ . . .\nA separable subproblem gives some new possibilities for cut generation. Indeed, Geoffrion and Graves (1974) observe that, in this case, there exist better strategies than aggregating the results of the sub-optimizations to produce a single cut (see also the concept of multi-cut proposed by Birge and Louveaux (1988)). We will investigate various cut bundling strategies for the HSTPS problem in the next section."
    }, {
      "heading" : "5.2. Pareto Optimal Cuts",
      "text" : "When the subproblem is a network flow optimization, which exhibits high degeneracy (Ahuja et al. 1988), Benders decomposition may experience slow convergence and it becomes important to generate stronger, Pareto optimal, cuts as proposed by Magnanti and Wong (1981). Given two solutions πa and πb to (3), πa dominates πb if\nπTa (b−By)≥ πTb (b−By),\nand at least one of these inequalities is strict. A solution (and its associated cut) that dominates all other solutions is said to be Pareto optimal. Magnanti and Wong (1981) showed how to generate a Pareto optimal cut by solving an optimization problem, using the notion of a core point of a set s, i.e., a point in the relative interior of the convex hull of S denoted by ri(S). A Pareto optimal cut can be obtained by solving the following optimization problem:\nmax αT (b−By0) (9a)\ns.t. ATα≤ c (9b)\nαT (b−Bȳ) = q(ᾱ) (9c)\nα≥ 0 (9d)\nwhere ȳ is the candidate solution from the restricted master problem, ᾱ is an optimal solution to (5), and y0 ∈ ri(Y) is a core point of Y.\nPapadakos (2009) showed that the choice of a core point can dramatically improve the convergence rate of Benders decomposition. Moreover, the author proposed a method for computing a sequence of core points by using a linear combination of the current core point and the solution obtained at each iteration of Benders decomposition. Experimental results have shown that using weights of 1/2 gives excellent results."
    }, {
      "heading" : "6. Benders Decomposition for the HSTPS Problem",
      "text" : "This section presents how to apply Benders decomposition to the HSTPS problem. The key idea is to assign the z variables in the MIP model to the restricted master problem, leaving the x and y variables for the subproblem. As mentioned earlier, when the z variables are fixed to z̄, the subproblem is a min-cost flow, which can be solved efficiently. The subproblem can be specified as\nmin ∑ r∈T (∑ i,j∈N τ rijx r ij + ∑ h,l∈H γrhly r hl ) (10a)\ns.t. ∑ j∈H ( xrij −xrji ) + ∑ h∈H if i∈H (yrih− yrhi) =  1 if i= or(r) −1 if i= de(r)\n0 otherwise\n∀r ∈ T,∀i∈N (10b)\nyrhl ≤ z̄hl ∀r ∈ T,h, l ∈H (10c)\n0≤ xrij, yrhl ≤ 1\nThe dual of the problem can be specified in terms of the dual variables uri associated with constraints (10b) variable and the dual variables vrhl associated with constraints (10c).\nmax ∑ r∈T (uro−urd)− ∑ h,l∈H zhl (∑ r∈T vrhl ) (11a)\ns.t. uri −urj ≤ τ rij ∀r ∈ T, i, j ∈Dr (11b)\nurh−urr− vrhl ≤ γrhl ∀r ∈ T,h, l ∈H (11c)\nuri ≥ 0, vrhl ≥ 0\nNote that Model (10) is separable: Each trip r gives rise to an independent subproblem."
    }, {
      "heading" : "6.1. Cut Aggregation",
      "text" : "We now discuss how to generate the cuts for the restricted master problem. Since the subproblem is separable, their individual cuts can be aggregated in many ways and we explored a variety of cut bundling strategies that exploit the structure of the HSTPS problem. For instance, a bundling\nstrategy may aggregate the cuts for all the trips with the same origin. It is also important to mention\nthat each bundled cut must create its own variable and that each original variable should appear\nin exactly one cut. The following cut bundling strategies were investigated for the HSTPS problem (in the cut definitions, ūri and v̄ r hl denote the values of the dual variables in the subproblem). One The traditional Benders cut from (10).\n∑ r∈T (ūro− ūrd)− ∑ h,l∈H zhl (∑ r∈T v̄rhl ) ≤ q (12)\nMulti This strategy does not aggregate the cuts.\nūro− ūrd− ∑ h,l∈H zhl (∑ r∈T v̄rhl ) ≤ qr ∀r ∈ T (13a)∑\nr∈T\nqr ≤ q (13b)\nHubs This strategy aggregates the subproblems by the closest hub to a trip origin or destination.\nLet Th be the set of trips having h as their closest hub.\n∑ r∈Th (ūro− ūrj)− ∑ l∈H zhl (∑ r∈Th v̄rhl ) ≤ qh ∀h∈H (14a)∑\nh∈Th\nqh ≤ q (14b)\nOrigin This strategy aggregates the subproblems by trip origins. Let To be trips having origin o and O be the set of all possible origins.\n∑ r∈To (ūro− ūrj)− ∑ h,l∈H zhl (∑ r∈To v̄rhl ) ≤ qo ∀o∈O (15a)∑\no∈O\nqo ≤ q (15b)\nLegs This strategy aims at grouping the trips by the first bus leg they use. Since this bus leg is not\nknown a priori, the leg strategy aggregates the subproblems by the bus leg used in trip filtering.\nRecall that all trips are associated with a single bus leg in trip filtering since all the bus legs are\nopen. Let Thl be the set of trips using bus leg (h, l) in the trip filtering.\n∑ r∈Thl (ūro− ūrj)− zhl ∑ r∈Thl\nv̄rhl ≤ qhl ∀h, l ∈H (16a)∑ h,l∈H qhl ≤ q (16b)"
    }, {
      "heading" : "6.2. Restricted Master Problem",
      "text" : "We are now in a positon to present the restricted master problem, whose objective minimizes the cost of opening the bus legs subject to the circular constraint (1a) and one of the cut sets defined above for each iteration:\nmin ∑ h,l∈H βhlzhl + q\ns.t. (1a), one of (12)− (16)\nz ∈B, q ∈R"
    }, {
      "heading" : "6.3. Pareto-Optimal Cuts",
      "text" : "Our Benders implementation for the HSTPS problem uses Pareto-optimal cuts, which requires to solve two linear programs: The original sub-problem (10) and then the Pareto sub-problem.\nObserve first that each of the independent subproblems is a min-cost flow with edges of infinite capacity and is equivalent to a shortest path problem. Hence, the original subproblem for a given trip can be solved by computing, for each trip, a shortest path between the origin and the destination using the edges defined by the union of Dr, the useful taxi arcs, and Z̄, the set of opened bus legs in the current iteration.\nTo define the Pareto subproblem, it is necessary to find a core point that satisfies the circular\nconstraint (1a). It can be chosen easily by assigning the same value to all z variables: i.e.,\nz0hl = ζ ∀h, l ∈H, ζ ∈ ]0,1[ (18)\nThe Pareto subproblem for a trip r then becomes\nmax uro−urd− ∑ h,l∈H z0hlvhl (Pareto)\ns.t. uri −urj ≤ τij ∀i, j ∈D (19a)\nurh−url − vrhl ≤ γhl ∀h, l ∈H (19b) uro−urd− ∑ h,l∈H z̄hlvhl = σ (19c)\nuri ≥ 0, vrhl ≥ 0\nwhere σ is the optimal objective value to the original subproblem for trip r.\nOur implementation also upates the core point, which can be seen as an intensification procedure: Seldom used bus legs decay towards low values while bus legs present in every solution are assigned a high coefficient in Pareto solutions. The update rule is defined as follows:\nz 0(k+1) hl =\nz 0(k) hl + z̄ (k) hl\n2 ∀h, l ∈H. (20)"
    }, {
      "heading" : "7. Experimental Results",
      "text" : "This section presents experimental results on the HSTPS problem. It starts by specifying the exprimental setting. It continues by justifying the implementation choices, including the Benders scheme, the cut bundling strategy, and the core point updating rule. It also compares the final algorithm with a standard MIP approach. Finally, the section evaluates the impact of the algorithm on the real case-study that motivated this work: The restructing of the Canberra public transit system."
    }, {
      "heading" : "7.1. Experimental Setting",
      "text" : "The results in Section 4.2 already indicated that the difference between the weekdays is minimal. As a result, the experimental results use a single day and two sets of instances: A set of small instances with a number of trips ranging from 100 to over 2,000 trips; and a set of large instances ranging from 1,000 to over 20,000 trips. The small instances are primarily used to eliminate certain algorithmic options. The large instances are useful to demonstrate scalability of the various advanced features. Unless specified otherwise, the algorithms are used with the parameter settings presented in Table 3. Note that the time penalty emulates the waiting time associated with any bus trip, i.e., it includes at least ten minutes of waiting time – five minutes at the first and last stops.\nThe LP/MIP solver used in the experiments in Gurobi v6.0 (Gurobi Optimization 2015) with default parameters using the Dual Simplex and without pre-processing. Gurobi was used to solve the MIP formulation, the Benders master problem, and the sub-problems. The algorithms are implemented in C++ and run as single threaded programs, forcing Gurobi to use a single thread as well. The experiments were run on a cluster with AMD Opteron 4184 CPUs and 64GB of RAM."
    }, {
      "heading" : "7.2. Justification of the Benders Approach",
      "text" : "7.2.1. Benders’s Schemes Figure 4 reports results of the following implementations of Ben-\nders decomposition: CR : A single standard subproblem;\nCP : A singe Pareto subproblem; SR : Multiple independent standard subproblems; SP : Multiple independent Pareto subproblems.\nThe results are for the small set of instances and use the standard parameters. The algorithms have a limit of 100 iterations: If the Benders decomposition needs more than 100 iterations, it is most likely exhibiting significant degeneracy.\nThe results in Figure 4 clearly show the value of Pareto-optimal cuts as the standard approach\ncan only solve the lower half of the instances before requiring more than a hundred iterations.\nThey also show that a single Pareto subproblem creates a hard MIP problem and execution times\nbecome a significant issue. Solving independent Pareto subproblems addresses both issues.\n7.2.2. Cut Aggregation Schemes Figure 5 presents the results comparing the cut aggrega-\ntion schemes on the small instances, while Figure 6 depicts the behavior of three bundling strategies,\none cut, hub aggregation, and leg aggregation, on the large instances. They both present the aver-\nage runtime per instance; In addition, Figure 6 also gives the standard deviation in the form of an\nerror bar (a dot on the graph indicates a standard deviation of more than 100s). Figure 7 gives\nthe number of iterations for all bundling schemes on the large instances. Table 4 also presents the\nnumber of cuts generated per iteration for each bundling scheme.\nLeg bundling is the best performing scheme: It is both more efficient and more stable as the size\nof the instances grows. A probable explanation is that the bus leg in the trip filtering clusters trips\nwith near-identical features with respect to their network usage (same initial and final hubs). As\na consequence, the resulting cuts generate efficient partitions of the solution space. These results\nconcur with those presented by de Camargo et al. (2008) who showed that the computational\noverhead of generating a cut per commodity far outweighs the potential gain in iterations and\nthose by Contreras et al. (2011) who aggregate cuts by hubs with encouraging results.\n7.2.3. Core Point Update Figure 8 presents the benefits of the update rule for the core\npoint using the set of twenty potential hubs H20 and α = 0.1. The key message is that the core point updates make the Benders decomposition both faster and more stable.\n7.2.4. MIP versus Benders Decomposition Figure 9 compares the standard MIP model against the final version of our Benders decomposition algorithm (independent Pareto sub-\nproblems, leg aggregation, core point update). The experiments use α = 0.1 as it gives the most realistic results. The first column presents the results on the set of small instances and the second column on the large instances. The first line uses a configuration with ten hubs (H10) and the second line twenty hubs (H20). As the instances grow larger, the gap between the standard MIP\nand the Benders decomposition becomes increasingly pronounced: Benders decomposition is almost two orders of magnitude faster on the largest configuration."
    }, {
      "heading" : "7.3. Benefits on the Case Study",
      "text" : "We conclude this section by evaluating the approach on the real case-study: The public transit system in Canberra. Table 5 compares the results of our BusPlus approach against the current public transportation system of Canberra known as Action. For BusPlus, the table reports the cost of the bus network, the total cost of the system, and the average travel time in the three columns. For Action, the table reports the cost of the system and the average travel time. The experimental settings differ slightly between BusPlus and Action to reflect the state of the system as accurately as possible. In particular, we do not include the waiting time for boarding buses in Action, since this data is not available. We also set α to 0.1 as it seems to give the most realistic networks in terms of the balance between costs and convenience.\nThe results show that the BusPlus approach divides the average travel time by two, even when taking into account the bus waiting time. The main reason for this reduction is the significant number of trips being served by taxis only. Moreover, even though the main expense of BusPlus comes from the taxi trips, the overall cost of the system is about ten percent lower than the cost of Action. This is an interesting result, since the taxi costs here are intentionally exaggerated and correspond to existing full fares.\nFigure 10 displays the networks obtained for the H10 and H20 configurations. The H20 configurations is particularly interesting: It is organized around two interconnected centers, which serve some of the most densely populated areas with short. flower-like routes."
    }, {
      "heading" : "8. Conclusion",
      "text" : "The BusPlus project aims at improving the off-peak hours public transit service in Canberra, Australia. The city covers a wide geographical area which makes public transportation particularly challenging. To address the difficulty, the BusPlus project proposes a hub and shuttle model consisting of a combination of a few high-frequency bus routes between key hubs and a large\nnumber of shuttles that bring passengers from their origin to the closest hub and take them from their last bus stop to their destination.\nThis paper focused on the design of bus network, which can be modeled as a variant of the hub-arc location problem. It proposed a number of pre-processing techniques, trip filtering and link filtering, to reduce the problem size. Then it introduced a Benders decomposition approach that uses dedicated solution techniques for solving independent sub-problems, Pareto optimal cuts, cut bundling, and core point update. The benefits of these design decisions are validated using real-world data from public transit system in Canberra. The Benders decomposition outperforms the natural MIP formulation by two orders of magnitude. Moreover, the paper showed that the hub and shuttle model may decrease transit time by a factor of 2, while staying within the costs of the existing transit system.\nThere are several directions for future work, including the use of parallel computation for the subproblems, the merging of the hub selection and the network design in a single optimization problem, and the ability to take into account of the scheduling, routing, and fleet sizing aspects.\nIt is also useful to mention that the BusPlus project will undergo live trial in the near future."
    } ],
    "references" : [ {
      "title" : "Network flows",
      "author" : [ "Ahuja", "Ravindra K", "Thomas L Magnanti", "James B Orlin." ],
      "venue" : "Tech. rep., DTIC Document. Benders, J. F. 1962. Partitioning procedures for solving mixed-variables programming problems. Numerische",
      "citeRegEx" : "Ahuja et al\\.,? 1988",
      "shortCiteRegEx" : "Ahuja et al\\.",
      "year" : 1988
    }, {
      "title" : "A multicut algorithm for two-stage stochastic linear programs",
      "author" : [ "Birge", "John R", "Francois V Louveaux" ],
      "venue" : null,
      "citeRegEx" : "Birge et al\\.,? \\Q1988\\E",
      "shortCiteRegEx" : "Birge et al\\.",
      "year" : 1988
    }, {
      "title" : "Benders decomposition for large-scale unca",
      "author" : [ "Ivan", "Jean-François Cordeau", "Gilbert Laporte" ],
      "venue" : null,
      "citeRegEx" : "Contreras et al\\.,? \\Q2011\\E",
      "shortCiteRegEx" : "Contreras et al\\.",
      "year" : 2011
    }, {
      "title" : "Exact and heuristic algorithms",
      "author" : [ "j.cor.2006.07.002. de Sá", "Elisangela Martins", "I. Contreras", "Jean-Francois Cordeau" ],
      "venue" : null,
      "citeRegEx" : "Sá et al\\.,? \\Q2015\\E",
      "shortCiteRegEx" : "Sá et al\\.",
      "year" : 2015
    }, {
      "title" : "The Hub Line Location Problem. Transportation Science 49(3) 500–518",
      "author" : [ "de Miranda" ],
      "venue" : null,
      "citeRegEx" : "Miranda.,? \\Q2015\\E",
      "shortCiteRegEx" : "Miranda.",
      "year" : 2015
    }, {
      "title" : "Multicommodity distribution system design by Benders decom",
      "author" : [ "Geoffrion", "Arthur M", "Glenn W Graves" ],
      "venue" : null,
      "citeRegEx" : "Geoffrion et al\\.,? \\Q1974\\E",
      "shortCiteRegEx" : "Geoffrion et al\\.",
      "year" : 1974
    }, {
      "title" : "Solving the hub location problem in a star–star",
      "author" : [ "Labbé", "Martine", "Hande Yaman" ],
      "venue" : null,
      "citeRegEx" : "Labbé et al\\.,? \\Q2008\\E",
      "shortCiteRegEx" : "Labbé et al\\.",
      "year" : 2008
    }, {
      "title" : "Accelerating Benders decomposition: Algorithmic enhancement",
      "author" : [ "19–33. Magnanti", "Thomas L", "Richard T Wong" ],
      "venue" : null,
      "citeRegEx" : "Magnanti et al\\.,? \\Q1981\\E",
      "shortCiteRegEx" : "Magnanti et al\\.",
      "year" : 1981
    }, {
      "title" : "Urban rapid transit network design: Accelerated Benders decom",
      "author" : [ "Maŕın", "Ángel G", "Patricia Jaramillo" ],
      "venue" : null,
      "citeRegEx" : "Maŕın et al\\.,? \\Q2009\\E",
      "shortCiteRegEx" : "Maŕın et al\\.",
      "year" : 2009
    }, {
      "title" : "Integrated airline scheduling",
      "author" : [ "Yaman", "Hande" ],
      "venue" : "Computers & Operations Research",
      "citeRegEx" : "Yaman and Hande.,? \\Q2009\\E",
      "shortCiteRegEx" : "Yaman and Hande.",
      "year" : 2009
    } ],
    "referenceMentions" : [ {
      "referenceID" : 3,
      "context" : "They include, for instance, the Tree Hub Location Problem (de Sá et al. 2013), where hubs are connected in a non-directed tree, the Hub Line Location Problem (de Sá et al. 2015a), where the decision is to locate q lines connecting hubs, and star topologies (Labbé and Yaman 2008, Yaman 2008) where all hubs are connected to a central hub and nodes are connected to hubs. de Sá et al. (2015b) introduced the Hub Line Location Problem which consists of locating p hubs and connecting them by means of a path, i.",
      "startOffset" : 62,
      "endOffset" : 392
    }, {
      "referenceID" : 3,
      "context" : "In order to solve this complex problem, de Sá et al. (2015b) used a Benders decomposition that include multicuts, a dedicated algorithm for the sub-problem, and the use of a branch-and-cut framework.",
      "startOffset" : 43,
      "endOffset" : 61
    }, {
      "referenceID" : 3,
      "context" : "In order to solve this complex problem, de Sá et al. (2015b) used a Benders decomposition that include multicuts, a dedicated algorithm for the sub-problem, and the use of a branch-and-cut framework. Maŕın and Jaramillo (2009) solve a rapid urban transit network design problem, where the goal is to locate train stations in an uncapacitated network with line location and demand routing constraints.",
      "startOffset" : 43,
      "endOffset" : 227
    }, {
      "referenceID" : 3,
      "context" : "In order to solve this complex problem, de Sá et al. (2015b) used a Benders decomposition that include multicuts, a dedicated algorithm for the sub-problem, and the use of a branch-and-cut framework. Maŕın and Jaramillo (2009) solve a rapid urban transit network design problem, where the goal is to locate train stations in an uncapacitated network with line location and demand routing constraints. Moreover, customers have access to a private network in competition with the public network of trains. They improve the convergence speed of the Benders algorithm by using subproblem disaggregation, a procedure to remove inactive optimality cuts, and a dedicated subproblem algorithm. The goal in this work is to maximize the demand served by the transit system, while our goal is to optimize a combination of cost and convenience. Finally, it is useful to mention that nodes can be assigned to hubs in two main ways: single or multiple allocations. With multple allocations, the commodities from a node can be sent to multiple hubs. While the single allocation is the most commonly studied, de Camargo et al. (2008) apply Benders decomposition to the uncapacitated multiple-aallocation HALP.",
      "startOffset" : 43,
      "endOffset" : 1118
    }, {
      "referenceID" : 3,
      "context" : "In order to solve this complex problem, de Sá et al. (2015b) used a Benders decomposition that include multicuts, a dedicated algorithm for the sub-problem, and the use of a branch-and-cut framework. Maŕın and Jaramillo (2009) solve a rapid urban transit network design problem, where the goal is to locate train stations in an uncapacitated network with line location and demand routing constraints. Moreover, customers have access to a private network in competition with the public network of trains. They improve the convergence speed of the Benders algorithm by using subproblem disaggregation, a procedure to remove inactive optimality cuts, and a dedicated subproblem algorithm. The goal in this work is to maximize the demand served by the transit system, while our goal is to optimize a combination of cost and convenience. Finally, it is useful to mention that nodes can be assigned to hubs in two main ways: single or multiple allocations. With multple allocations, the commodities from a node can be sent to multiple hubs. While the single allocation is the most commonly studied, de Camargo et al. (2008) apply Benders decomposition to the uncapacitated multiple-aallocation HALP. The main issue is the non-linearity of their model. As a result, they use a Generalised Benders Decomposition with a MIP as the master problem and a non-linear convex transportation problem as the subproblem. Note that de Sá et al. (2015b) also allow for multiple allocations.",
      "startOffset" : 43,
      "endOffset" : 1434
    }, {
      "referenceID" : 0,
      "context" : "Pareto Optimal Cuts When the subproblem is a network flow optimization, which exhibits high degeneracy (Ahuja et al. 1988), Benders decomposition may experience slow convergence and it becomes important to generate stronger, Pareto optimal, cuts as proposed by Magnanti and Wong (1981).",
      "startOffset" : 103,
      "endOffset" : 122
    }, {
      "referenceID" : 0,
      "context" : "Pareto Optimal Cuts When the subproblem is a network flow optimization, which exhibits high degeneracy (Ahuja et al. 1988), Benders decomposition may experience slow convergence and it becomes important to generate stronger, Pareto optimal, cuts as proposed by Magnanti and Wong (1981). Given two solutions πa and πb to (3), πa dominates πb if π a (b−By)≥ π b (b−By), and at least one of these inequalities is strict.",
      "startOffset" : 104,
      "endOffset" : 286
    }, {
      "referenceID" : 0,
      "context" : "Pareto Optimal Cuts When the subproblem is a network flow optimization, which exhibits high degeneracy (Ahuja et al. 1988), Benders decomposition may experience slow convergence and it becomes important to generate stronger, Pareto optimal, cuts as proposed by Magnanti and Wong (1981). Given two solutions πa and πb to (3), πa dominates πb if π a (b−By)≥ π b (b−By), and at least one of these inequalities is strict. A solution (and its associated cut) that dominates all other solutions is said to be Pareto optimal. Magnanti and Wong (1981) showed how to generate a Pareto optimal cut by solving an optimization problem, using the notion of a core point of a set s, i.",
      "startOffset" : 104,
      "endOffset" : 544
    }, {
      "referenceID" : 2,
      "context" : "(2008) who showed that the computational overhead of generating a cut per commodity far outweighs the potential gain in iterations and those by Contreras et al. (2011) who aggregate cuts by hubs with encouraging results.",
      "startOffset" : 144,
      "endOffset" : 168
    } ],
    "year" : 2016,
    "abstractText" : "The BusPlus project aims at improving the off-peak hours public transit service in Canberra, Australia. To address the difficulty of covering a large geographic area, BusPlus proposes a hub and shuttle model consisting of a combination of a few high-frequency bus routes between key hubs and a large number of shuttles that bring passengers from their origin to the closest hub and take them from their last bus stop to their destination. This paper focuses on the design of bus network and proposes an efficient solving method to this multimodal network design problem based on the Benders decomposition method. Starting from a MIP formulation of the problem, the paper presents a Benders decomposition approach using dedicated solution techniques for solving independent sub-problems, Pareto optimal cuts, cut bundling, and core point update. Computational results on real-world data from Canberra’s public transit system justify the design choices and show that the approach outperforms the MIP formulation by two orders of magnitude. Moreover, the results show that the hub and shuttle model may decrease transit time by a factor of 2, while staying within the costs of the existing transit system.",
    "creator" : "LaTeX with hyperref package"
  }
}